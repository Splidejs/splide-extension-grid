/*!
 * @splidejs/splide-extension-grid
 * Version  : 0.3.0
 * License  : MIT
 * Copyright: 2021 Naotoshi Fujita
 */(function(S){typeof define=="function"&&define.amd?define(S):S()})(function(){"use strict";var S="splide";function un(n){return Array.isArray(n)}function fn(n){return un(n)?n:[n]}function cn(n,t){fn(n).forEach(t)}var A=S+"__slide",J=A+"__container",an="visible",sn="hidden",U="refresh",ln="undated",dn="destroy";function $(n){var t=n.event,i={},o=[];function f(a,s,h){t.on(a,s,i,h)}function d(a){t.off(a,i)}function l(a,s,h,E){g(a,s,function(y,w){o.push([y,w,h,E]),y.addEventListener(w,h,E)})}function c(a,s){g(a,s,function(h,E){o=o.filter(function(y){return y[0]===h&&y[1]===E?(h.removeEventListener(E,y[2],y[3]),!1):!0})})}function g(a,s,h){cn(a,function(E){E&&s.split(" ").forEach(h.bind(null,E))})}function v(){o=o.filter(function(a){return c(a[0],a[1])}),t.offBy(i)}return t.on(dn,v,i),{on:f,off:d,emit:t.emit,bind:l,unbind:c,destroy:v}}function vn(n){n.length=0}function hn(n){return!W(n)&&typeof n=="object"}function D(n){return Array.isArray(n)}function z(n){return typeof n=="string"}function W(n){return n===null}function En(n){return n instanceof HTMLElement}function Y(n){return D(n)?n:[n]}function I(n,t){Y(n).forEach(t)}function gn(n,t){return n.push.apply(n,Y(t)),n}var mn=Array.prototype;function M(n,t,i){return mn.slice.call(n,t,i)}function yn(n,t){return M(n).filter(t)[0]}function K(n,t,i){n&&I(t,function(o){o&&n.classList[i?"add":"remove"](o)})}function V(n,t){K(n,t,!0)}function R(n,t){I(t,n.appendChild.bind(n))}function wn(n,t){return(n.msMatchesSelector||n.matches).call(n,t)}function pn(n,t){return n?M(n.children).filter(function(i){return wn(i,t)}):[]}function Q(n,t){return t?pn(n,t)[0]:n.firstElementChild}function X(n,t){if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var f=i[o];if(f!=="__proto__"&&t(n[f],f)===!1)break}return n}function Z(n){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return i.forEach(function(f){X(f,function(d,l){n[l]=f[l]})}),n}function An(n,t){n&&I(t,function(i){n.removeAttribute(i)})}function B(n,t,i){hn(t)?X(t,function(o,f){B(n,f,o)}):W(i)?An(n,t):n.setAttribute(t,String(i))}function H(n,t,i){var o=document.createElement(n);return t&&(z(t)||D(t)?V(o,t):B(o,t)),i&&R(i,o),o}function Cn(n,t){return n&&n.classList.contains(t)}function _n(n,t){return M(n.querySelectorAll(t))}function j(n){I(n,function(t){t&&t.parentNode&&t.parentNode.removeChild(t)})}function k(n,t){K(n,t,!1)}function T(n){return z(n)?n:n?n+"px":""}var Ln="splide";function bn(n,t){if(t===void 0&&(t=""),!n)throw new Error("["+Ln+"] "+t)}var Sn=Math.min,Nn=Math.max,On=Math.floor,Mn=Math.ceil,Vn=Math.abs,Bn=Math.round;function Dn(n){return n<10?"0"+n:""+n}var nn=A+"__row",G=A+"--col",tn={rows:1,cols:1,dimensions:[],gap:{}};function In(n){function t(){var f=n.rows,d=n.cols,l=n.dimensions;return D(l)&&l.length?l:[[f,d]]}function i(f){var d=t();return d[Sn(f,d.length-1)]}function o(f){for(var d=t(),l,c,g=0,v=0;v<d.length;v++){var a=d[v];if(l=a[0]||1,c=a[1]||1,g+=l*c,f<g)break}return bn(l&&c,"Invalid dimension"),[l,c]}return{get:i,getAt:o}}function Rn(){var n,t;function i(){n=H("style",{},document.head),t=n.sheet}function o(){j(n),t=null}function f(c,g,v){var a=t,s=a.cssRules,h=yn(s,function(E){return l(E)&&E.selectorText===c})||s[t.insertRule(c+"{}",0)];l(h)&&(h.style[g]=""+v)}function d(c,g,v){f("#"+(En(c)?c.id:c),g,v)}function l(c){return c instanceof CSSStyleRule}return{mount:i,destroy:o,rule:f,ruleBy:d}}function Tn(n,t,i){var o=$(n),f=o.on,d=o.destroy,l=n.Components,c=n.options,g=l.Direction.resolve,v=l.Slides.forEach,a=Rn(),s=a.rule;function h(){a.mount(),y(),c.slideFocus&&(f(an,F),f(sn,N))}function E(){v(function(r){L(r.slide,!1)}),a.destroy(),d()}function y(){v(function(r){var e=r.slide,u=i.get(r.isClone?r.slideIndex:r.index),m=u[0],O=u[1],b=_(e);w(m,b),C(O,_(e,!0)),x(r.slide).forEach(function(p,q){p.id=r.slide.id+"-col"+Dn(q+1),P(p)})})}function w(r,e){var u=t.gap.row,m="calc("+100/r+"%"+(u?" - "+T(u)+" * "+(r-1)/r:"")+")";s(e,"height",m),s(e,"display","flex"),s(e,"margin","0 0 "+T(u)+" 0"),s(e,"padding",0),s(e+":last-child","marginBottom",0)}function C(r,e){var u=t.gap.col,m="calc("+100/r+"%"+(u?" - "+T(u)+" * "+(r-1)/r:"")+")";s(e,"width",m),s(e+":not(:last-child)",g("marginRight"),T(u))}function P(r){var e=Q(r,"."+J),u=Q(e||r,"img");if(u&&u.src){var m="#"+r.id+(e?" > ."+J:"");s(m,"background",'center/cover no-repeat url("'+u.src+'")'),s(m+" > img","display","none")}}function _(r,e){return"#"+r.id+" > ."+nn+(e?" > ."+G:"")}function x(r){return _n(r.parentElement,_(r,!0))}function L(r,e){x(r).forEach(function(u){B(u,"tabindex",e?0:null)})}function F(r){L(r.slide,!0)}function N(r){L(r.slide,!1)}return{mount:h,destroy:E}}function xn(n,t,i){var o=$(n),f=o.on,d=o.off,l=t.Elements,c={},g=In(c),v=Tn(n,c,g),a=A+"--grid",s=[];function h(){i.grid=Z({},tn,i.grid||{})}function E(){y(),f(ln,y)}function y(){Z(c,i.grid||tn),console.log("init"),F()?(N()&&(w(),C()),gn(s,l.slides),V(n.root,a),R(l.list,_()),f(U,P),C()):s.length&&(w(),C())}function w(){v.destroy(),s.forEach(function(r){k(r,G),R(l.list,r)}),j(l.slides),k(n.root,a),vn(s),d(U)}function C(){n.refresh()}function P(){N()&&v.mount()}function _(){var r=[],e=0,u=0,m,O;return t.Slides.forEach(function(b){var p=b.slide,q=b.index,rn=g.getAt(q),on=rn[0],en=rn[1];u||(e||(m=H(p.tagName,A),r.push(m)),O=x(on,p,m)),L(en,p,O),++u>=en&&(u=0,e=++e>=on?0:e),b.destroy()},!0),r}function x(r,e,u){var m=e.tagName.toLowerCase()==="li"?"ul":"div";return H(m,nn,u)}function L(r,e,u){return V(e,G),R(u,e),e}function F(){if(i.grid){var r=c.rows,e=c.cols,u=c.dimensions;return r>1||e>1||D(u)&&u.length>0}return!1}function N(){return Cn(n.root,a)}return{setup:h,mount:E,destroy:w}}typeof window!="undefined"&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.Grid=xn);/*!
 * Splide.js
 * Version  : 3.0.0
 * License  : MIT
 * Copyright: 2021 Naotoshi Fujita
 */});
//# sourceMappingURL=splide-extension-grid.min.js.map
